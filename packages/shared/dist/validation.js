"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.printReceiptSchema = exports.settingsSchema = exports.loginSchema = exports.createUserSchema = exports.updateOrderSchema = exports.createOrderSchema = exports.orderItemSchema = exports.updateProductSchema = exports.createProductSchema = exports.updateCategorySchema = exports.createCategorySchema = void 0;
const zod_1 = require("zod");
// ============================================
// Zod Validation Schemas
// ============================================
// ---------- Category Schemas ----------
exports.createCategorySchema = zod_1.z.object({
    name: zod_1.z.string().min(1, 'Name is required').max(100),
    description: zod_1.z.string().max(500).optional(),
    sortOrder: zod_1.z.number().int().min(0).optional().default(0),
    isActive: zod_1.z.boolean().optional().default(true),
});
exports.updateCategorySchema = zod_1.z.object({
    name: zod_1.z.string().min(1).max(100).optional(),
    description: zod_1.z.string().max(500).optional(),
    sortOrder: zod_1.z.number().int().min(0).optional(),
    isActive: zod_1.z.boolean().optional(),
});
// ---------- Product Schemas ----------
exports.createProductSchema = zod_1.z.object({
    name: zod_1.z.string().min(1, 'Name is required').max(100),
    description: zod_1.z.string().max(500).optional(),
    price: zod_1.z.number().min(0, 'Price must be positive'),
    pricePerKg: zod_1.z.number().min(0).optional().nullable(), // Optional price per kilogram for weight-based sales
    categoryId: zod_1.z.string().min(1, 'Category is required'),
    image: zod_1.z.string().url().optional(),
    imageUrl: zod_1.z.string().url().optional(),
    isAvailable: zod_1.z.boolean().optional().default(true),
    sortOrder: zod_1.z.number().int().min(0).optional().default(0),
});
exports.updateProductSchema = zod_1.z.object({
    name: zod_1.z.string().min(1).max(100).optional(),
    description: zod_1.z.string().max(500).optional(),
    price: zod_1.z.number().min(0).optional(),
    pricePerKg: zod_1.z.number().min(0).optional().nullable(), // Optional price per kilogram for weight-based sales
    categoryId: zod_1.z.string().optional(),
    image: zod_1.z.string().url().optional().nullable(),
    imageUrl: zod_1.z.string().url().optional().nullable(),
    isAvailable: zod_1.z.boolean().optional(),
    sortOrder: zod_1.z.number().int().min(0).optional(),
});
// ---------- Order Schemas ----------
exports.orderItemSchema = zod_1.z.object({
    productId: zod_1.z.string().min(1),
    quantity: zod_1.z.number().int().min(1),
    notes: zod_1.z.string().max(200).optional(),
    modifierIds: zod_1.z.array(zod_1.z.string()).optional(),
    // Weight-based item fields (optional, for pre-calculated prices)
    isWeightBased: zod_1.z.boolean().optional(),
    weightKg: zod_1.z.number().optional(),
    pricePerKg: zod_1.z.number().optional(),
    unitPrice: zod_1.z.number().optional(),
    totalPrice: zod_1.z.number().optional(),
});
exports.createOrderSchema = zod_1.z.object({
    type: zod_1.z.enum(['dine-in', 'takeaway', 'delivery', 'online']),
    items: zod_1.z.array(exports.orderItemSchema).min(1, 'Order must have at least one item'),
    customerName: zod_1.z.string().max(100).optional(),
    customerPhone: zod_1.z.string().max(20).optional(),
    customerEmail: zod_1.z.string().email().optional(),
    notes: zod_1.z.string().max(500).optional(),
    discount: zod_1.z.object({
        type: zod_1.z.enum(['percentage', 'fixed', 'coupon']),
        value: zod_1.z.number().min(0),
        amount: zod_1.z.number().min(0),
        code: zod_1.z.string().optional(),
    }).optional(),
});
exports.updateOrderSchema = zod_1.z.object({
    status: zod_1.z.enum(['pending', 'confirmed', 'preparing', 'ready', 'completed', 'cancelled']).optional(),
    paymentMethod: zod_1.z.enum(['cash', 'card', 'online']).optional(),
    paymentStatus: zod_1.z.enum(['pending', 'paid', 'refunded', 'failed']).optional(),
    notes: zod_1.z.string().max(500).optional(),
});
// ---------- User Schemas ----------
exports.createUserSchema = zod_1.z.object({
    email: zod_1.z.string().email('Invalid email'),
    password: zod_1.z.string().min(6, 'Password must be at least 6 characters'),
    name: zod_1.z.string().min(1, 'Name is required').max(100),
    role: zod_1.z.enum(['admin', 'manager', 'staff']),
});
exports.loginSchema = zod_1.z.object({
    email: zod_1.z.string().email('Invalid email'),
    password: zod_1.z.string().min(1, 'Password is required'),
});
// ---------- Settings Schema ----------
exports.settingsSchema = zod_1.z.object({
    shopName: zod_1.z.string().min(1).max(100),
    address: zod_1.z.string().max(500).nullable().transform(val => val || ''),
    phone: zod_1.z.string().max(20).nullable().transform(val => val || ''),
    email: zod_1.z.string().email().or(zod_1.z.literal('')).nullable().transform(val => val || ''),
    vatNumber: zod_1.z.string().max(50).nullable().transform(val => val || ''),
    vatRate: zod_1.z.number().min(0).max(100),
    currency: zod_1.z.string().length(3),
    currencySymbol: zod_1.z.string().max(5),
    receiptFooter: zod_1.z.string().max(200).nullable().transform(val => val || ''),
    logoUrl: zod_1.z.string().url().nullable().or(zod_1.z.literal('')).or(zod_1.z.literal(null)).transform(val => val || null),
});
// ---------- Print Schema ----------
exports.printReceiptSchema = zod_1.z.object({
    orderId: zod_1.z.string().min(1),
    printType: zod_1.z.enum(['customer', 'kitchen', 'both']),
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy92YWxpZGF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZCQUF3QjtBQUV4QiwrQ0FBK0M7QUFDL0MseUJBQXlCO0FBQ3pCLCtDQUErQztBQUUvQyx5Q0FBeUM7QUFDNUIsUUFBQSxvQkFBb0IsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQzNDLElBQUksRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7SUFDcEQsV0FBVyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQzNDLFNBQVMsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDeEQsUUFBUSxFQUFFLE9BQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO0NBQy9DLENBQUMsQ0FBQztBQUVVLFFBQUEsb0JBQW9CLEdBQUcsT0FBQyxDQUFDLE1BQU0sQ0FBQztJQUMzQyxJQUFJLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQzNDLFdBQVcsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRTtJQUMzQyxTQUFTLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDN0MsUUFBUSxFQUFFLE9BQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLEVBQUU7Q0FDakMsQ0FBQyxDQUFDO0FBRUgsd0NBQXdDO0FBQzNCLFFBQUEsbUJBQW1CLEdBQUcsT0FBQyxDQUFDLE1BQU0sQ0FBQztJQUMxQyxJQUFJLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsa0JBQWtCLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ3BELFdBQVcsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRTtJQUMzQyxLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsd0JBQXdCLENBQUM7SUFDbEQsVUFBVSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUUscURBQXFEO0lBQzFHLFVBQVUsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxzQkFBc0IsQ0FBQztJQUNyRCxLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUNsQyxRQUFRLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUNyQyxXQUFXLEVBQUUsT0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7SUFDakQsU0FBUyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztDQUN6RCxDQUFDLENBQUM7QUFFVSxRQUFBLG1CQUFtQixHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDMUMsSUFBSSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRTtJQUMzQyxXQUFXLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDM0MsS0FBSyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQ25DLFVBQVUsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxFQUFFLHFEQUFxRDtJQUMxRyxVQUFVLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUNqQyxLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUM3QyxRQUFRLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUNoRCxXQUFXLEVBQUUsT0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUNuQyxTQUFTLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7Q0FDOUMsQ0FBQyxDQUFDO0FBRUgsc0NBQXNDO0FBQ3pCLFFBQUEsZUFBZSxHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDdEMsU0FBUyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzVCLFFBQVEsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqQyxLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDckMsV0FBVyxFQUFFLE9BQUMsQ0FBQyxLQUFLLENBQUMsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQzNDLGlFQUFpRTtJQUNqRSxhQUFhLEVBQUUsT0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUNyQyxRQUFRLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUMvQixVQUFVLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUNqQyxTQUFTLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUNoQyxVQUFVLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtDQUNsQyxDQUFDLENBQUM7QUFFVSxRQUFBLGlCQUFpQixHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDeEMsSUFBSSxFQUFFLE9BQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMzRCxLQUFLLEVBQUUsT0FBQyxDQUFDLEtBQUssQ0FBQyx1QkFBZSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxtQ0FBbUMsQ0FBQztJQUMzRSxZQUFZLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDNUMsYUFBYSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQzVDLGFBQWEsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQzVDLEtBQUssRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRTtJQUNyQyxRQUFRLEVBQUUsT0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNqQixJQUFJLEVBQUUsT0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFlBQVksRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDL0MsS0FBSyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QixJQUFJLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtLQUM1QixDQUFDLENBQUMsUUFBUSxFQUFFO0NBQ2QsQ0FBQyxDQUFDO0FBRVUsUUFBQSxpQkFBaUIsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3hDLE1BQU0sRUFBRSxPQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtJQUNuRyxhQUFhLEVBQUUsT0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDNUQsYUFBYSxFQUFFLE9BQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtJQUMzRSxLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUU7Q0FDdEMsQ0FBQyxDQUFDO0FBRUgscUNBQXFDO0FBQ3hCLFFBQUEsZ0JBQWdCLEdBQUcsT0FBQyxDQUFDLE1BQU0sQ0FBQztJQUN2QyxLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUM7SUFDeEMsUUFBUSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLHdDQUF3QyxDQUFDO0lBQ3JFLElBQUksRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7SUFDcEQsSUFBSSxFQUFFLE9BQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0NBQzVDLENBQUMsQ0FBQztBQUVVLFFBQUEsV0FBVyxHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDbEMsS0FBSyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDO0lBQ3hDLFFBQVEsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxzQkFBc0IsQ0FBQztDQUNwRCxDQUFDLENBQUM7QUFFSCx3Q0FBd0M7QUFDM0IsUUFBQSxjQUFjLEdBQUcsT0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNyQyxRQUFRLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ3BDLE9BQU8sRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUM7SUFDbkUsS0FBSyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQztJQUNoRSxLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQztJQUNsRixTQUFTLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDO0lBQ3BFLE9BQU8sRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7SUFDbkMsUUFBUSxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQzlCLGNBQWMsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqQyxhQUFhLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDO0lBQ3pFLE9BQU8sRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUM7Q0FDekcsQ0FBQyxDQUFDO0FBRUgscUNBQXFDO0FBQ3hCLFFBQUEsa0JBQWtCLEdBQUcsT0FBQyxDQUFDLE1BQU0sQ0FBQztJQUN6QyxPQUFPLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDMUIsU0FBUyxFQUFFLE9BQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0NBQ25ELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gWm9kIFZhbGlkYXRpb24gU2NoZW1hc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gLS0tLS0tLS0tLSBDYXRlZ29yeSBTY2hlbWFzIC0tLS0tLS0tLS1cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNhdGVnb3J5U2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIG5hbWU6IHouc3RyaW5nKCkubWluKDEsICdOYW1lIGlzIHJlcXVpcmVkJykubWF4KDEwMCksXHJcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkubWF4KDUwMCkub3B0aW9uYWwoKSxcclxuICBzb3J0T3JkZXI6IHoubnVtYmVyKCkuaW50KCkubWluKDApLm9wdGlvbmFsKCkuZGVmYXVsdCgwKSxcclxuICBpc0FjdGl2ZTogei5ib29sZWFuKCkub3B0aW9uYWwoKS5kZWZhdWx0KHRydWUpLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVDYXRlZ29yeVNjaGVtYSA9IHoub2JqZWN0KHtcclxuICBuYW1lOiB6LnN0cmluZygpLm1pbigxKS5tYXgoMTAwKS5vcHRpb25hbCgpLFxyXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm1heCg1MDApLm9wdGlvbmFsKCksXHJcbiAgc29ydE9yZGVyOiB6Lm51bWJlcigpLmludCgpLm1pbigwKS5vcHRpb25hbCgpLFxyXG4gIGlzQWN0aXZlOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxyXG59KTtcclxuXHJcbi8vIC0tLS0tLS0tLS0gUHJvZHVjdCBTY2hlbWFzIC0tLS0tLS0tLS1cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2R1Y3RTY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgbmFtZTogei5zdHJpbmcoKS5taW4oMSwgJ05hbWUgaXMgcmVxdWlyZWQnKS5tYXgoMTAwKSxcclxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5tYXgoNTAwKS5vcHRpb25hbCgpLFxyXG4gIHByaWNlOiB6Lm51bWJlcigpLm1pbigwLCAnUHJpY2UgbXVzdCBiZSBwb3NpdGl2ZScpLFxyXG4gIHByaWNlUGVyS2c6IHoubnVtYmVyKCkubWluKDApLm9wdGlvbmFsKCkubnVsbGFibGUoKSwgLy8gT3B0aW9uYWwgcHJpY2UgcGVyIGtpbG9ncmFtIGZvciB3ZWlnaHQtYmFzZWQgc2FsZXNcclxuICBjYXRlZ29yeUlkOiB6LnN0cmluZygpLm1pbigxLCAnQ2F0ZWdvcnkgaXMgcmVxdWlyZWQnKSxcclxuICBpbWFnZTogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLFxyXG4gIGltYWdlVXJsOiB6LnN0cmluZygpLnVybCgpLm9wdGlvbmFsKCksXHJcbiAgaXNBdmFpbGFibGU6IHouYm9vbGVhbigpLm9wdGlvbmFsKCkuZGVmYXVsdCh0cnVlKSxcclxuICBzb3J0T3JkZXI6IHoubnVtYmVyKCkuaW50KCkubWluKDApLm9wdGlvbmFsKCkuZGVmYXVsdCgwKSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvZHVjdFNjaGVtYSA9IHoub2JqZWN0KHtcclxuICBuYW1lOiB6LnN0cmluZygpLm1pbigxKS5tYXgoMTAwKS5vcHRpb25hbCgpLFxyXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm1heCg1MDApLm9wdGlvbmFsKCksXHJcbiAgcHJpY2U6IHoubnVtYmVyKCkubWluKDApLm9wdGlvbmFsKCksXHJcbiAgcHJpY2VQZXJLZzogei5udW1iZXIoKS5taW4oMCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLCAvLyBPcHRpb25hbCBwcmljZSBwZXIga2lsb2dyYW0gZm9yIHdlaWdodC1iYXNlZCBzYWxlc1xyXG4gIGNhdGVnb3J5SWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBpbWFnZTogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXHJcbiAgaW1hZ2VVcmw6IHouc3RyaW5nKCkudXJsKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxyXG4gIGlzQXZhaWxhYmxlOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxyXG4gIHNvcnRPcmRlcjogei5udW1iZXIoKS5pbnQoKS5taW4oMCkub3B0aW9uYWwoKSxcclxufSk7XHJcblxyXG4vLyAtLS0tLS0tLS0tIE9yZGVyIFNjaGVtYXMgLS0tLS0tLS0tLVxyXG5leHBvcnQgY29uc3Qgb3JkZXJJdGVtU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIHByb2R1Y3RJZDogei5zdHJpbmcoKS5taW4oMSksXHJcbiAgcXVhbnRpdHk6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLFxyXG4gIG5vdGVzOiB6LnN0cmluZygpLm1heCgyMDApLm9wdGlvbmFsKCksXHJcbiAgbW9kaWZpZXJJZHM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcclxuICAvLyBXZWlnaHQtYmFzZWQgaXRlbSBmaWVsZHMgKG9wdGlvbmFsLCBmb3IgcHJlLWNhbGN1bGF0ZWQgcHJpY2VzKVxyXG4gIGlzV2VpZ2h0QmFzZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXHJcbiAgd2VpZ2h0S2c6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcclxuICBwcmljZVBlcktnOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXHJcbiAgdW5pdFByaWNlOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXHJcbiAgdG90YWxQcmljZTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVPcmRlclNjaGVtYSA9IHoub2JqZWN0KHtcclxuICB0eXBlOiB6LmVudW0oWydkaW5lLWluJywgJ3Rha2Vhd2F5JywgJ2RlbGl2ZXJ5JywgJ29ubGluZSddKSxcclxuICBpdGVtczogei5hcnJheShvcmRlckl0ZW1TY2hlbWEpLm1pbigxLCAnT3JkZXIgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBpdGVtJyksXHJcbiAgY3VzdG9tZXJOYW1lOiB6LnN0cmluZygpLm1heCgxMDApLm9wdGlvbmFsKCksXHJcbiAgY3VzdG9tZXJQaG9uZTogei5zdHJpbmcoKS5tYXgoMjApLm9wdGlvbmFsKCksXHJcbiAgY3VzdG9tZXJFbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLm9wdGlvbmFsKCksXHJcbiAgbm90ZXM6IHouc3RyaW5nKCkubWF4KDUwMCkub3B0aW9uYWwoKSxcclxuICBkaXNjb3VudDogei5vYmplY3Qoe1xyXG4gICAgdHlwZTogei5lbnVtKFsncGVyY2VudGFnZScsICdmaXhlZCcsICdjb3Vwb24nXSksXHJcbiAgICB2YWx1ZTogei5udW1iZXIoKS5taW4oMCksXHJcbiAgICBhbW91bnQ6IHoubnVtYmVyKCkubWluKDApLFxyXG4gICAgY29kZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIH0pLm9wdGlvbmFsKCksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZU9yZGVyU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIHN0YXR1czogei5lbnVtKFsncGVuZGluZycsICdjb25maXJtZWQnLCAncHJlcGFyaW5nJywgJ3JlYWR5JywgJ2NvbXBsZXRlZCcsICdjYW5jZWxsZWQnXSkub3B0aW9uYWwoKSxcclxuICBwYXltZW50TWV0aG9kOiB6LmVudW0oWydjYXNoJywgJ2NhcmQnLCAnb25saW5lJ10pLm9wdGlvbmFsKCksXHJcbiAgcGF5bWVudFN0YXR1czogei5lbnVtKFsncGVuZGluZycsICdwYWlkJywgJ3JlZnVuZGVkJywgJ2ZhaWxlZCddKS5vcHRpb25hbCgpLFxyXG4gIG5vdGVzOiB6LnN0cmluZygpLm1heCg1MDApLm9wdGlvbmFsKCksXHJcbn0pO1xyXG5cclxuLy8gLS0tLS0tLS0tLSBVc2VyIFNjaGVtYXMgLS0tLS0tLS0tLVxyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlclNjaGVtYSA9IHoub2JqZWN0KHtcclxuICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgnSW52YWxpZCBlbWFpbCcpLFxyXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbig2LCAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA2IGNoYXJhY3RlcnMnKSxcclxuICBuYW1lOiB6LnN0cmluZygpLm1pbigxLCAnTmFtZSBpcyByZXF1aXJlZCcpLm1heCgxMDApLFxyXG4gIHJvbGU6IHouZW51bShbJ2FkbWluJywgJ21hbmFnZXInLCAnc3RhZmYnXSksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvZ2luU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCdJbnZhbGlkIGVtYWlsJyksXHJcbiAgcGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDEsICdQYXNzd29yZCBpcyByZXF1aXJlZCcpLFxyXG59KTtcclxuXHJcbi8vIC0tLS0tLS0tLS0gU2V0dGluZ3MgU2NoZW1hIC0tLS0tLS0tLS1cclxuZXhwb3J0IGNvbnN0IHNldHRpbmdzU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIHNob3BOYW1lOiB6LnN0cmluZygpLm1pbigxKS5tYXgoMTAwKSxcclxuICBhZGRyZXNzOiB6LnN0cmluZygpLm1heCg1MDApLm51bGxhYmxlKCkudHJhbnNmb3JtKHZhbCA9PiB2YWwgfHwgJycpLFxyXG4gIHBob25lOiB6LnN0cmluZygpLm1heCgyMCkubnVsbGFibGUoKS50cmFuc2Zvcm0odmFsID0+IHZhbCB8fCAnJyksXHJcbiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKS5vcih6LmxpdGVyYWwoJycpKS5udWxsYWJsZSgpLnRyYW5zZm9ybSh2YWwgPT4gdmFsIHx8ICcnKSxcclxuICB2YXROdW1iZXI6IHouc3RyaW5nKCkubWF4KDUwKS5udWxsYWJsZSgpLnRyYW5zZm9ybSh2YWwgPT4gdmFsIHx8ICcnKSxcclxuICB2YXRSYXRlOiB6Lm51bWJlcigpLm1pbigwKS5tYXgoMTAwKSxcclxuICBjdXJyZW5jeTogei5zdHJpbmcoKS5sZW5ndGgoMyksXHJcbiAgY3VycmVuY3lTeW1ib2w6IHouc3RyaW5nKCkubWF4KDUpLFxyXG4gIHJlY2VpcHRGb290ZXI6IHouc3RyaW5nKCkubWF4KDIwMCkubnVsbGFibGUoKS50cmFuc2Zvcm0odmFsID0+IHZhbCB8fCAnJyksXHJcbiAgbG9nb1VybDogei5zdHJpbmcoKS51cmwoKS5udWxsYWJsZSgpLm9yKHoubGl0ZXJhbCgnJykpLm9yKHoubGl0ZXJhbChudWxsKSkudHJhbnNmb3JtKHZhbCA9PiB2YWwgfHwgbnVsbCksXHJcbn0pO1xyXG5cclxuLy8gLS0tLS0tLS0tLSBQcmludCBTY2hlbWEgLS0tLS0tLS0tLVxyXG5leHBvcnQgY29uc3QgcHJpbnRSZWNlaXB0U2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIG9yZGVySWQ6IHouc3RyaW5nKCkubWluKDEpLFxyXG4gIHByaW50VHlwZTogei5lbnVtKFsnY3VzdG9tZXInLCAna2l0Y2hlbicsICdib3RoJ10pLFxyXG59KTtcclxuIl19